---
import "../styles/global.css";
import "../styles/font.css";
import ThemeToggle from "@/components/common/ThemeToggle";
const { content } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link
      rel="icon"
      type="image/png"
      href="favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon/apple-touch-icon.png"
    />
    <link rel="manifest" href="favicon/site.webmanifest" />
    <!-- Cloudflare Web Analytics -->
    <script
      defer
      src="https://static.cloudflareinsights.com/beacon.min.js"
      data-cf-beacon='{"token": "8f419be8f6ad47e8a91f5e4c99534d23"}'
    ></script><!-- End Cloudflare Web Analytics -->


    <script is:inline>
      const getThemePreference = () => {
        if (
          typeof localStorage !== "undefined" &&
          localStorage.getItem("theme")
        ) {
          return localStorage.getItem("theme");
        }
        return window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light";
      };
      const isDark = getThemePreference() === "dark";
      document.documentElement.classList[isDark ? "add" : "remove"]("dark");

      if (typeof localStorage !== "undefined") {
        const observer = new MutationObserver(() => {
          const isDark = document.documentElement.classList.contains("dark");
          localStorage.setItem("theme", isDark ? "dark" : "light");
        });
        observer.observe(document.documentElement, {
          attributes: true,
          attributeFilter: ["class"],
        });
      }
    </script>
    <title>{content.title}</title>
  </head>
  <body
    class="bg-[radial-gradient(#e5e7eb_1px,transparent_0)] dark:bg-[radial-gradient(#272727_1px,transparent_0)]"
  >
  <!-- Theme Toggle Button - Fixed Position -->
    <div class="fixed top-4 right-4 sm:top-6 sm:right-6 z-50">
      <ThemeToggle client:load />
    </div>
    
    <div class="w-full lg:w-[1000px] mx-auto">
      <slot />
    </div>
  </body>
</html>
